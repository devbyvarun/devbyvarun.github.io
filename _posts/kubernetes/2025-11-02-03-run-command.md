---
title: "Kubernetes Run Command"
date: 2025-11-02 12:00:00 -0700
categories: [Kubernetes]
tags: [kubernetes, intro]
description: "`kubectl run` is a command used to create and run a single Pod in a Kubernetes cluster using a specified container image.
"
---

> Originally, it could create Deployments, Jobs, and more, but since Kubernetes v1.18+, it’s focused mainly on creating Pods (for simplicity and consistency).

### Basic Syntax

```bash
kubectl run <pod-name> --image=<image-name> [options]
```

---

### Example

```bash
kubectl run nginx --image=nginx
```

This command:

* Creates a **Pod** named `nginx`
* Uses the **nginx container image**
* Runs it in the **default namespace**

---

### Common Options

| Option                     | Description                                                                 | Example                     |
| -------------------------- | --------------------------------------------------------------------------- | --------------------------- |
| `--image`                  | Specifies the container image to use                                        | `--image=nginx:latest`      |
| `--port`                   | Exposes a container port                                                    | `--port=80`                 |
| `--env`                    | Sets environment variables                                                  | `--env="KEY=value"`         |
| `--restart`                | Controls how Kubernetes restarts the Pod (`Always`, `OnFailure`, `Never`)   | `--restart=Never`           |
| `--command`                | Indicates that the following args are a command to run inside the container | `--command -- echo "Hello"` |
| `--dry-run=client -o yaml` | Prints the YAML manifest instead of actually creating the Pod               | `--dry-run=client -o yaml`  |

---

### Examples

#### 1. Run an Nginx Pod

```bash
kubectl run nginx --image=nginx
```

#### 2. Run a Pod that prints “Hello World” once and exits

```bash
kubectl run hello --image=busybox --restart=Never -- echo "Hello World"
```

#### 3. Run a Pod with an environment variable

```bash
kubectl run mypod --image=alpine --env="APP_MODE=production" --restart=Never -- sh -c 'echo $APP_MODE'
```

#### 4. Generate YAML (without creating the Pod)

```bash
kubectl run testpod --image=nginx --dry-run=client -o yaml
```

#### 5. Run a Pod on a specific port

```bash
kubectl run web --image=nginx --port=8080
```

---

### Advanced Tip: Creating a Deployment Instead

If you want a **Deployment** (which manages replicas and updates), use:

```bash
kubectl create deployment myapp --image=nginx
```

or

```bash
kubectl run myapp --image=nginx --restart=Always
```
